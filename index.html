<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海外实践：沙特阿拉伯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- CSS Modules -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/intro.css">
    <link rel="stylesheet" href="css/map.css">
</head>

<body>

    <!-- ========== 共享背景层 ========== -->
    <div id="atmosphere" class="atmosphere-overlay"></div>
    <canvas id="canvas-layer"></canvas>

    <!-- ========== 开场动画层 (Intro Layer) ========== -->
    <div id="intro-layer">
        <svg id="signal-layer" viewBox="0 0 1920 200" preserveAspectRatio="none">
            <path id="signal-path" d="" stroke="rgba(212, 175, 55, 0.3)" stroke-width="2" fill="none" />
        </svg>

        <div id="ui-layer">
            <!-- 顶栏信息 -->
            <div class="flex justify-between w-full opacity-70"
                style="position: absolute; top: 3rem; left: 50%; transform: translateX(-50%); width: 90%; max-width: 1600px;">
                <div class="text-sm tracking-widest font-mono">
                    SIGNAL:DET<br>
                    FREQ:24.7Hz
                </div>
                <div class="text-sm tracking-widest font-mono text-right">
                    LOC:24.7°N<br>
                    UTC+8:2026
                </div>
            </div>

            <!-- 点击跳过区域 -->
            <div id="click-zone"
                style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:15; display:none;"></div>

            <!-- 剧本文字容器 -->
            <div class="text-container" id="text-output"></div>

            <!-- 点击提示 -->
            <div class="click-hint" id="hint-text"></div>
        </div>
    </div>

    <!-- ========== 游戏地图层 (Map Layer) - 初始隐藏 ========== -->
    <div id="map-layer" class="hidden opacity-0">
        <div id="floating-glyphs"></div> <!-- 漂浮装饰层 (只在地图显示) -->

        <!-- 游戏标题 -->
        <h1 class="game-title">
            <img src="images/白色队徽带字母.png" class="title-logo" alt="Ru'yat Tech">
            ：沙特阿拉伯探索之旅
        </h1>

        <!-- 游戏关卡地图层 -->
        <div id="level-map-container">
            <svg id="path-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
                <!-- Smooth path connecting (10,85) -> (30,60) -> (50,75) -> (70,40) -> (90,15) -->
                <path d="M 10 85 C 20 70, 20 60, 30 60 S 40 75, 50 75 S 60 40, 70 40 S 80 15, 90 15" fill="none"
                    class="path-line" />
            </svg>

            <!-- 玩家标记 (当前位置) -->
            <div id="player-marker" style="left: 30%; top: 60%;">
                <div class="marker-icon"></div> <!-- 宇宙飞船图标 -->
                <div class="marker-pulse"></div>
            </div>

            <!-- 关卡节点 -->

            <!-- 节点1: 苏尔坦亲王大学 -->
            <div id="node-1" class="level-node" data-label="苏尔坦亲王大学孔子学院">
                <div class="node-circle">🌏</div>
                <div class="node-label">苏尔坦亲王大学<br>孔子学院</div>
            </div>

            <!-- 节点2: 沙特国王大学 -->
            <div id="node-2" class="level-node" data-label="沙特国王大学">
                <!-- <div class="node-circle"></div> -->
                <img src="images/沙特国王大学校徽.png" class="node-icon" alt="沙特国王大学">
                <div class="node-label">沙特国王大学</div>
            </div>

            <!-- 节点3: 徐工集团展会 -->
            <div id="node-3" class="level-node" data-label="徐工集团展会">
                <!-- <div class="node-circle"></div> -->
                <img src="images/徐工.png" class="node-icon" alt="徐工集团">
                <div class="node-label">徐工集团展会<br>(达曼)</div>
            </div>

            <!-- 节点4: 中国电建 -->
            <div id="node-4" class="level-node" data-label="中国电建">
                <!-- <div class="node-circle"></div> -->
                <img src="images/中国电建.png" class="node-icon" alt="中国电建">
                <div class="node-label">中国电建</div>
            </div>

            <!-- 节点5: 中电装备 -->
            <div id="node-5" class="level-node" data-label="中电装备">
                <!-- <div class="node-circle"></div> -->
                <img src="images/中电装备.png" class="node-icon" alt="中电装备">
                <div class="node-label">中电装备</div>
            </div>
        </div>
    </div>

    <!-- 留言板按钮 (始终可见，右下角，位于进入星图按钮左侧) -->
    <a href="messages.html" class="controls message-board-button">
        留言板 / MESSAGES
    </a>

    <!-- 进入地图按钮 (始终可见，右下角) -->
    <button id="enter-map-btn" class="controls enter-map-button">
        进入星图 / ENTER MAP
    </button>
    <button id="replay-intro-btn" class="controls replay-button hidden">
        重播动画 / REPLAY
    </button>

    <!-- 链接选择弹窗 -->
    <div id="link-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modal-title">地点标题</h2>
            <div id="modal-links">
                <!-- 链接按钮将通过 JS 动态生成 -->
            </div>
        </div>
    </div>

    <script src="js/script-data.js"></script>
    <script src="js/links-data.js"></script> <!-- 新增链接数据 -->
    <script src="js/effects.js"></script>
    <script src="js/main.js"></script>
</body>

</html>